(this["webpackJsonphw-ph-03"]=this["webpackJsonphw-ph-03"]||[]).push([[0],{21:function(e,t,a){e.exports={button:"ButtonStyles_button__3zBnD",Button:"ButtonStyles_Button__1FMbX"}},27:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a(1),r=a.n(o),c=a(18),s=a.n(c),i=(a(27),a(8)),l=a(4),u=a(5),m=a(7),d=a(6),h=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsx)("header",{className:"Searchbar",children:Object(n.jsxs)("form",{className:"SearchForm",onSubmit:this.props.getImages,children:[Object(n.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(n.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(n.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.props.onHandleChange,value:this.props.query})]})})}}]),a}(o.Component),g=a(19),b=a.n(g),p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a="19534964-3b894cbb98b7a7b0f6f1cef4d";return b.a.get(" https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat(a,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))},j=function(e){var t=e.image,a=t.webformatURL,o=t.tags,r=t.largeImageURL;return Object(n.jsx)("li",{className:"ImageGalleryItem",children:Object(n.jsx)("img",{src:a,alt:o,"data-largeimg":r,className:"ImageGalleryItem-image"})})},f=function(e){var t=e.images,a=e.modalIsOpen;return Object(n.jsx)("ul",{className:"ImageGallery",onClick:a,children:t.map((function(e){return Object(n.jsx)(j,{image:e},e.id)}))})},O=a(20),y=a.n(O),v=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).closeModalEsk=function(t){"Escape"===t.code&&e.props.closeModal()},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.closeModalEsk)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.closeModalEsk)}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"Overlay",children:Object(n.jsx)("div",{className:"Modal",children:Object(n.jsx)("img",{src:this.props.bigImg,alt:""})})})}}]),a}(o.Component),x=a(21),I=a.n(x),S=function(e){var t=e.onLoadMore;return Object(n.jsx)("button",{className:I.a.button,type:"button",onClick:t,children:"Load more"})},k=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={query:"",page:1,images:[],isLoader:!1,modal:!1,bigImg:null,alt:""},e.onHandleChange=function(t){e.setState({query:t.target.value})},e.getImages=function(t){t.preventDefault(),e.setState({isLoader:!0}),p(e.state.query).then((function(t){return e.setState({images:Object(i.a)(t),page:2})})).finally((function(){return e.setState({isLoader:!1})}))},e.onLoadMore=function(t){t.preventDefault(),e.setState({isLoader:!0}),p(e.state.query,e.state.page).then((function(t){return e.setState((function(e){return{images:[].concat(Object(i.a)(e.images),Object(i.a)(t)),page:e.page+1}}))})).finally((function(){return e.setState({isLoader:!1})}))},e.modalIsOpen=function(t){"IMG"===t.target.nodeName&&(e.setState({modal:!0}),e.setState({bigImg:t.target.dataset.largeimg}))},e.closeModal=function(){e.setState({modal:!1})},e}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,t=e.query,a=e.images,o=e.isLoader,r=e.modal,c=e.bigImg;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(h,{onHandleChange:this.onHandleChange,query:t,getImages:this.getImages}),o&&Object(n.jsx)(y.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3}),Object(n.jsx)(f,{images:a,modalIsOpen:this.modalIsOpen}),r&&Object(n.jsx)(v,{closeModal:this.closeModal,bigImg:c}),a.length>0&&!o&&Object(n.jsx)(S,{onLoadMore:this.onLoadMore})]})}}]),a}(o.Component),w=function(){return Object(n.jsx)(k,{})};s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(w,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.313193b3.chunk.js.map